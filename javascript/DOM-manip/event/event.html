<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="style.css" />
		<title>Event</title>
	</head>
	<body>
		<article id="parent">
			<a id="my-link" href="#">Cliquez sur moi !</a>
			<a class="link" id="child" href="#">Cliquez ici</a>
			<p>Battle d'événement !</p>
			Parent : <span id="parent-count">0</span> Enfant :
			<span id="child-count">0</span>
		</article>

		<form>
			<div><input type="text" id="name" placeholder="Nom" /></div>
			<div>
				<select id="gender">
					<option>Choisissez une valeur</option>
					<option value="male">Homme</option>
					<option value="female">Femme</option>
					<option value="other">Autre</option>
				</select>
			</div>
		</form>

		<div id="result">
			Nom : <span id="res-name"></span><br />
			Genre : <span id="res-gender"></span><br />
			Souris : (<span id="mouse-x"></span>, <span id="mouse-y"></span>)
		</div>
		<script>
			/*
			   ##################################
			   #### addEventListener (debut) ####
			   ##################################
         Cette fonction nous permet d'écouter tous types d'événements
            SYNTAX: addEventListener(<event>, <callback>)
              <event> -> le type d'evenement
              <callback> -> la fonction a appeler des que l'evenement est executE.
			   */

			//=========== onclick + preventDefault ===========
			const elt = document.getElementById('my-link');
			elt.addEventListener('click', function (event) {
				elt.innerHTML = "C'est cliquE !";
				event.preventDefault(); // On utilise la fonction preventDefault de notre objet event pour empêcher le comportement par défaut de cet élément lors du clic de la souris
				event.stopPropagation(); // Vous pouvez ainsi empêcher que d'autres éléments reçoivent l'événement.
			});

			//=========== battle evenement ===========
			const parent = document.getElementById('parent');
			const parentCount = document.getElementById('parent-count');
			const child = document.getElementById('child');
			const childCount = document.getElementById('child-count');
			let parentValue = 0;
			let childValue = 0;

			// console.log(parent, parentCount);
			// console.log(child, childCount);

			parent.addEventListener('click', function () {
				parentCount.innerHTML = ++parentValue;
			});

			child.addEventListener('click', function (event) {
				event.stopPropagation();
				childCount.innerHTML = ++childValue;
			});

			//=========== event target value ===========
			/*
      note: 
        - input (event type): fonctionne comme change déclenché dès que le contenu du champ est modifié
      */

			const nameElt = document.getElementById('name');
      const resultName = document.getElementById('res-name');
			// console.log(resultName);
			nameElt.addEventListener('input', function (event) {
				let result = (innerText = event.target.value);
        console.log(result);
			});

			/*
			   ################################
			   #### addEventListener (end) ####
			   ################################
			   */
		</script>
	</body>
</html>
